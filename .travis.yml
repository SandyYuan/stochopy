dist: xenial

language: python
python:
  - 3.8

env:
  global:
    # Doctr deploy key for keurfonluu/stochopy
    - secure: "gAAAAABfcCwYP5Dx58dXoFVkKQw4AA8_weRYH0gY-4NDDU56R7w2WnG-y6sB4Jt0m-yHke_aviRM0dQyCi_ED_897_sf82jJkJA5Gy435XaonU14sG2OBLsct6RNAgrLR9CGhCpzwvIZWQIEwSClmIACDQUsB6yyMEHcuhYxYToIS4D6oAa7HNpZsSuBTaSo3dWl3CG4RwIwp4VTCuiu3T5Q3eL5mBoVwDxFaxgu0SL0gBr1A8vw6B_0ualr-vJOzQZgwiA5HI10zMmB4wOCcUBjt3hIza7NfxIR1TOZ74PQGDvlHL9vvYxlk5DcGaGmsqBzpXtIOkvMibvwwygTvvL4v7ve9Jiuw5wOGlX1aJ8Ww3sGmVoSWWnP3m5LWoJdvT77DNvgQ4JAvWpy3eRhRmeqr84paJAx-D77lB9y4gRpRInj_GzLZs5Mo_QRGsZnK7hBedcVMNbHZkbModmVlXx8E8CYjtdbID9svZr8rAXWyjdK_F8NhFE2ovKSSxDeJ3lX9Kn0P8c0Lg5DNsuYACuTYc5gJFciPgeEkSh342jjn5RE8la8qWo1sw1bCYiUzrQUaYGUZCe-oCsvlW4gSXMn5m6e7KQRMdapz6tyhkoWD_-6LxitiNAIhkQI2paQRqOgl2seMis-b9LRAmSOgQRNPe69uqumJuNCUBzN4OE-IqBdLuwQesDJ7PaZG3lnIL9jP3lmKnwjZlxu3YVjrMzjKvt6_AodhJJBnVFBiRchb5Iv-YUe7jZmw7Xw8i_JSLrGnL9maQe843dnk5PoGDumD4oxhwHbT2NUjcHMeexU9OnWVEJblvgeBEWRcBxs4ciHAOfs6Upwq9OeK6Lzu_EmUTDin0d4De3GvygeD2LWHHLcwp_R7oKxweZmON91iglgVCto0wLmvKVRX1DKR5lk66mtHKrBdTgj6DSmUeIzUMGYxD-WyRWhsFWHWw2xQOQISwSIDPvzvbWlJU53rQ6mIZY_rPY3f7i3w029DZHaBDqiCRROfmMbFE8Mjq7YvdTxeD_DaB2hOC63yrndRfNxzK7EOZHRTFaNENJbAaZTwVDSfJJDrUlVXtqmrLnXzU0e8FXbXhJxNJ67k9v5xSjYN5YCRwHRsbtiXqhXJizaM1SkgKXVGGPxfRWhCCL1LnhUgFfnhE4wz2a6WNjhc8-yxJ6wPXirKvdjsKHvCLI_blRLU44IinQ5xaE9NbCtVL0PlRL73770swUF2Jkb8tqmu0AFFAwC-V0MzYbdv-dmNeWwdNFSD6GqNiuGnnyN51oeAQ8xeApOVlxLsn2K7uPQj4nlYPhk1twC8cTbOMJl456Thyu-muGYoGaTZY2yv-lAoP9oO_qH3q98Yme6i0QfHPrhpwTYGSNBFSXrFTSMH-8TACw2qlPLf4pl_SfL-8LlUCU42YDFDPRj0zytrDnNHPsZ3rqXyNvYL4YHNbFry1Zcjq3oCEWW0PYylRq7pFPpJxTrxeLdyIm1O-iSCBZO5CrtpODaEFayV9Kmu4NHGY_UefBBbvmaXvJ1QKSdsYce9LNhWINqxLJz4JRlT6pDsOOU7gFfK_oOhKguziwcvuZmdD89hXc2zRP08lxVpvj-Pu47FfQA6AEfGREEZwZIEOc4wjGecBe9kZxI-T_EPbZpZxKUwSvFKdPIcNeGm8iG-BlUbFdwSADdeirg9O0sj2IBo2w2FSvjfeFk262LmgEw2n8CHFL7NWwiFgea0LxX0AdOxCtPvGXZM_rNCy-NtOpEwSKmxrR6-Gqu5NAt3wsfU5kdnHoZk6jDlg0Bj9tf762wo_Zh0j_wcO0KwQZlGbWdB8FxDusWsOs76WehxNFieDjh1RMtft15DoJnXOTlfHKiJUwTveQ5PLs0YoShzgmaSSSfG4IXSIaahAgTXMiSRQ9MRbR-kjnb8yTVEIy7VoNt91-7N-URCBpkqkVxdlMYQazDSWFaU5h6eOQM5jR3TltvFi_jZeFXv4jbIaiX_GlYFx4R2yE2e9tD9aZqZBGR8lPgqp3L5enj107mIrhCs-U9_i9YKayi77K-vtTqaXXzT2NxpZX9oKdNq5_ncabWq-ciSj_R_l02fBVnO9luiy2IKvKWxDqWohZcTCJjdgbYUdkFgJw-Gdp4K5OBkNc-Jwq5eAuTsSDL3zKwLHowqhexwdrEXZrO3XBgHrDpzA8JuEmbFVl3MHkl13Fh1V4452VbzHfiQXWCOG_ChgktfqLcdb7PqqqVCBlcejjmLqEG4yGEIxIF2wzMpDo0mmFiyPu0MX6ES63Hg1wt0iDO9HuuDAM-wZ2oo1jqtIJoN-BO9XBdkp0gksecVei-S_9xlSYxJK3A37yEMDmvvOw7wCino5MCh-5D7_lvFuDQjg45UuTvxNTToYb5PPbUjfKGvSzkYr0R7bevVhMtIV-OCNU64fdG8AaqRVSo664YfCroDyDEiOg223OBWotpdfMgXvP2_KHszTTVZUpl5squrPndiaQ8DC5r-TXRLiK30TqEmmA7QYoytGE9JboXX0Z9MwvLy_pnG0sMtBNTu3INUH7vPz5nC0efzuo2M4LtLbJ8beouruNYrpTQaTvRz7KQmjCCZt7dMQgH5aab9Ju4oRhJjonNBCBG6Z_NPnY_sT1P2VX_Ih848CdmBIoSNDLBlrME-lB3f69ir4imhmXyQ_JNUT0HMyhsFsZnxQao7KB0MF4J5k_JqLwVVfKPzlXfDvARK79YneIfN7UmPHJpWhzvUxJnt5j24g-nu4gmAuJ71PoDX5vJjZbBH4slB5eW6VNYVztvf0gR6EmFHyCj0SevJQ_eFRtgCpHPAkzjgikv7l2C9-LKW0DLZgkP2vVSzxrIkLfW6s889eQGdjwXTgRn-ks9vFtqsiuUz2L1sfGmp1NNJaS2Uouc37lw5YduPPJZOlPk0YZGhoqX38AN8DU4Xiw1a7qf2CXsl9psXa08tWdPg8QPeJCU-nAT-aMxAfWfI24ckl1Qwd6s2CxZ1CDBnydgxgmie9bDgIRLojdpuZrx-_mnw3D0XcBC8kyHbtxSlACJGDTNDvBLixd32FrZH--eVsCQvcNruswHHN2rn-g_xKss40r4IKOey5zjaEPYawQadNA1ILkU8HV84sIU21zwPku5husphvXqS8LrPbj7tRVayTIzXgl0LQYLkaA6fUmKRw9THDdWt4ro9QLnXuCC63MD59hjWCfmYYK6-WH9_zYwIZxXTRmpORWrS0a6svtbprapQbv_8PAOjacZ8pVgVWqD52H392R7ao1pI5CMAg-NP4_YHI9pFUnkzXb6xEFCl9d6hmvSZEoC5ToU1ioVr475hMdafPrYTiZnNt1I8Z0XF2kqaHS9KA5Nx1odCtsqW9otYm9bzrpTQoARoVCh9CKASVJLdYK4U4K4fYvPE4UcDGBAFB7f3HY4N3ZLLiheYBnQCnbKo6Z4fXmQIURex1RGu7NKSWhDKUhD1mi3rRCIPvakxf3SICmg0Rf_YNNWcTJHBCOfVVDKpcsgVLoWHfuNJiW0rtBSalnFH1ojWGr7sMwpFZg3wMhBjqNVVL3h_HEY8f9zngP5pmNPO_tECIJNHc6exfDhbkFocEcH28Zk9yX-A8cVP7ZeSjZieM4BRmdOX36upPRmlb7_g1CwTCe1ir27Syn3tlhkMsBZnTkNYCl10f0GzLyzAxjEKUARnClq6G_lPER6gdDv2nVbgYDTR2P9CJ1aJKbO5pt9L3DEmNgjNcn5B3Cv15XTMYiAdQdlg8ZRM2Gb-wgnzvtdwZxa0kqhGry0CgIWUAXnj4vOCNlFwyPTY6gmwM10i2dVKhEsQLiYY8jecHg6MXoRhSFDewltjfeUy5cNrdK9m3dBjapgAZA_1JgiiWnT1FxmIG-eOfDWXqeUtwEuZuQlF2wiM6dJHULdIsfHfrOZ-yyZ7CgZcwn8dB0VDJ-G0mrDU2TNgrixBnd-MGiAppEMo54rw70OHUB4DL65G1O1U_MQxP7KgoObPd0O2OXDcrkuJSA0n_ZjRp_UqsHtysZi0or9ZjH7ZhZ90DGOf8zIWZ2gOH9izmDowsHnX6SI6Nrkcbchu44JDy9TR_scUdDJ3hya8AoVG7RfM1bNs6AXs-NeCDLGRT5hhXbDYAkhb82Si8cpHLsmP6GtUv9BpJV8wfwLfKtWnwOmuacISxcoH4-EHLQi6Vb0PcIwtTk5tnbxxU1fYp6JAMOLCekW0JmNjFkB2MLPvlZDECapy3_jGH-w2CKl8aYgQYQc0buJz9PY0qQwBbtFLNmynQ_Bun3t0w1Tli0ANyFBhWIsa7BN1XmNTxyoCYbZ2l3eCOFdKghfangn58u4ls3P1QPYokouNkrV-_eNO5jzg94-NP_DeMzLuxl5hElBI3_L2NZxoa4qeJzpvg76fy3arVHoQCGLZDFGCQNg-5N9AivOUJaNcUDYm1F03VZK1Dest_AcZg=="

install:
  - pip install .
  - pip install -r doc/requirements.txt

script:
  - set -e
  - sphinx-build -b html doc/source doc/build
  - pip install doctr
  - doctr deploy . --built-docs ./doc/build/